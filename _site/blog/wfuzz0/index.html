<!-- Post layout -->
<!DOCTYPE html>
<html>
<head>
<!-- Introducing the head tag -->

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>fuzz第一步，Wfuzz来指路 | sueisok</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="fuzz第一步，Wfuzz来指路" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Notes,Thoughts and Else" />
<meta property="og:description" content="Notes,Thoughts and Else" />
<link rel="canonical" href="http://localhost:4000/blog/wfuzz0/" />
<meta property="og:url" content="http://localhost:4000/blog/wfuzz0/" />
<meta property="og:site_name" content="sueisok" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-31T15:13:21+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="fuzz第一步，Wfuzz来指路" />
<meta name="twitter:site" content="@your_name" />
<meta name="google-site-verification" content="XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"fuzz第一步，Wfuzz来指路","dateModified":"2020-03-31T15:13:21+08:00","datePublished":"2020-03-31T15:13:21+08:00","url":"http://localhost:4000/blog/wfuzz0/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/wfuzz0/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/banner.png"}},"description":"Notes,Thoughts and Else","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<script type="application/ld+json">
    {
      "@context": "http://schema.org/",
      "@type": "Person",
      "image": /assets/JHON.jpg,
      "honorificPrefix": "MD.",
      "name": sueisok,
      "familyName": Your family name,
      "honorificSuffix": King,
      "disambiguatingDescription": Your awesome description,
      "birthPlace": Your address,
      "birthDate": Your Date of Birth,
      "height": XX inches,
      "gender": Your gender,
      "memberOf": Your awesome orgranization,
      "nationality": Your proud nationality,
      "jobTitle": Your Respectful Position,
      "knowsAbout": Your awesome Skill,
      "knowsLanguage": ,
      "email": ,
      "url": " http://localhost:4000 ",
      "test": 
      "worksFor": {
        "@type": ,
        "name": ,
        "openingHours": ,
        "priceRange": ,
        "telephone": ,
        "image": ,
        "address": {
        "@type": ,
        "addressCountry": ,
        "addressLocality": ,
        "addressRegion": 
         }
      },
      "address": {
        "@type": ,
        "addressCountry": ,
        "addressLocality": ,
        "addressRegion": 
      },
      "colleague": [
        "https://deb108471.dhakaeducationboard.gov.bd",
        "https://deb113652.dhakaeducationboard.gov.bd",
        "https://deb110880.dhakaeducationboard.gov.bd"
      ]
    }
</script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-sclable=0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="description" content="Notes,Thoughts and Else" />
<meta name="keywords" content="123456" />

<!-- preloader -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/preloader.css">

<!-- Favicon -->
<link href="/assets/icon.png" rel="shortcut icon" />
<link href="/assets/icon.png" rel="apple-touch-icon-precomposed" />
<!-- Android Lolipop Theme Color -->
<!-- <meta name="theme-color" content="#1464FB"> -->
<title>fuzz第一步，Wfuzz来指路</title>
<!-- Baidu statistics -->

<!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '');
</script>


<!-- Android Lolipop Theme Color -->
<meta name="theme-color" content=" rgb(238,99,99) ">
</head>
<body onload="loaderFunc()" data-spy="scroll" data-target="#toc" data-offset="20">


<!-- preloader -->
<div id="loader" class="loader">
  <div class="artboard">
    <div class="square"></div>
    <div class="path">
      <div class="small-squares">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </div>
</div>
<!-- end -->

<!-- Top anchor -->
<a id="htmlup" name="htmlup"></a>
<!-- Introduce blog post options -->

<header id="post-header" style="background-color:rgb(238,99,99);">
  <div class="top-center">
      <div class="logo">
          <a href="/" title="my awesome webtitle" style="color: white;">sueisok</a>
      </div>
      <nav class="top-nav">
          <ul>
              
                <li><a href="/" style="color: white;">Home</a></li>
              
                <li><a href="/tags/" style="color: white;">Tags</a></li>
              
                <li><a href="/timeline/" style="color: white;">Timeline</a></li>
              
                <li><a href="/about/" style="color: white;">About</a></li>
              
                <li><a href="/reLink/" style="color: white;">reLink</a></li>
              
          </ul>
      </nav>
      <div id="top-boot">
        <a href="javascript:;" id="boot1" style="display:block;" onclick="document.getElementById('boot-area').style.display='block';document.getElementById('boot1').style.display='none';document.getElementById('boot2').style.display='block';"><img src="/assets/boot_white.png" alt=""></a>
        <a href="javascript:;" id="boot2" style="display: none;" onclick="document.getElementById('boot-area').style.display='none';document.getElementById('boot1').style.display='block';document.getElementById('boot2').style.display='none';"><img src="/assets/boot_white.png" alt=""></a>
      </div>
  </div>

</header>


<!-- Introducing the mobile dropdown option -->
<div id="boot-area">
    <ul>
        
          <a href="/"><li>Home</li></a>
        
          <a href="/tags/"><li>Tags</li></a>
        
          <a href="/timeline/"><li>Timeline</li></a>
        
          <a href="/about/"><li>About</li></a>
        
          <a href="/reLink/"><li>reLink</li></a>
        
    </ul>
</div>

<!-- Introducing the blog post style -->
<!-- Version one garbage -->
<!-- <div class="wow fadeIn top" data-wow-duration="3.5s" >
    <span class="wow fadeInUp" data-wow-delay="0.2s">fuzz第一步，Wfuzz来指路</span>
    <span class="wow fadeInUp" data-wow-delay="0.4s"></span>
    <span class="wow fadeInUp" data-wow-delay="0.4s"></span>
    <span class="wow fadeInUp" data-wow-delay="0.6s">Author&nbsp;&nbsp;|&nbsp;&nbsp;true</span>
</div> -->

<!--Version 2 switchable page -->

<div class="post-top" style="background-color:rgb(238,99,99);">
  <!-- Page width is greater than 800px -->
  <div class="left-area">
    
      <a href="/blog/wfuzz1/" class="btn bounceInLeft animated" onmouseover="showLeft();this.style.color='rgb(238,99,99)';" onmouseout="goneLeft();this.style.color='rgba(0,0,0,.2)';"><</a>
      <div id="left-tab" style="display:none;"><span class="left-san"></span><span class="left-main" style="color:rgb(238,99,99);"><sapn class="main">Wfuzz的其他模块</sapn></span></div>
    
  </div>
  <div class="post-titlearea">
    <span class="wow fadeInUp" data-wow-delay="0.2s">fuzz第一步，Wfuzz来指路</span>
    <!-- <span class="wow fadeInUp" data-wow-delay="0.4s"></span> -->
    <!-- <span class="wow fadeInUp" data-wow-delay="0.4s"></span> -->
    <!-- <span class="wow fadeInUp" data-wow-delay="0.6s">Author&nbsp;&nbsp;|&nbsp;&nbsp;true</span> -->
  </div>
  <div class="right-area">
    
      <a href="/blog/thinkphp6.0/" class="btn bounceInRight self-animated" onmouseover="showRight();this.style.color='rgb(238,99,99)';" onmouseout="goneRight();this.style.color='rgba(0,0,0,.2)';">></a>
      <div id="right-tab" style="display:none;"><span class="right-san"></span><span class="right-main" style="color:rgb(238,99,99);"><sapn class="main">ThinkPHP6任意文件操作漏洞</sapn></span></div>
    
  </div>

  <!-- Page width is less than 800px -->
  <div class="post-changearea">
    
      <a href="/blog/wfuzz1/" class="leftchange" style="border-right: 1px solid rgb(238,99,99);border-bottom: 2px solid rgb(238,99,99);"><span>Previous<br><br>Wfuzz的其他模块</span></a>
    
    
      <a href="/blog/thinkphp6.0/" class="rightchange" style="border-left: 1px solid rgb(238,99,99);border-bottom: 2px solid rgb(238,99,99);"><span>Next<br><br>ThinkPHP6任意文件操作漏洞</span></a>
    
  </div>
</div>


<div class="markdown-body fadeInUp animated">
  

    
      <div class="postpage-subtitle" style="border-left: 8px solid rgb(238,99,99); border-right: 8px solid rgb(238,99,99)">
        Wfuzz简单使用方法记录
      </div>
    
  

  <!-- Article content -->
 <ul id="markdown-toc">
  <li><a href="#说明书" id="markdown-toc-说明书">说明书</a></li>
  <li><a href="#字典" id="markdown-toc-字典">字典</a></li>
  <li><a href="#载荷payloads" id="markdown-toc-载荷payloads">载荷(payloads)</a></li>
  <li><a href="#输出格式" id="markdown-toc-输出格式">输出格式</a></li>
  <li><a href="#过滤" id="markdown-toc-过滤">过滤</a></li>
  <li><a href="#递归测试" id="markdown-toc-递归测试">递归测试</a></li>
  <li><a href="#其他" id="markdown-toc-其他">其他</a></li>
</ul>

<p>🤺<a href="https://wfuzz.readthedocs.io/en/latest/">该项目的官网手册</a></p>

<p>🤺Kali Linux自带此工具</p>

<p>🤺到目前为止对这个工具最大的感觉就是，目录爆破，爆破用户名和密码，之后会尝试各种注入，见缝插针</p>

<p>🤺内心os，以上这些都对字典的依赖比较大，是一个需要自己想办法维护的工具，在我菜鸡的手里和别人的手里就很不一样，所以就是个人积累问题了，通过个人的积累和增删，让工具更顺敏锐</p>

<h1 id="说明书">说明书</h1>

<p>完整版help如下</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz --help
···
Options:
    -h/--help                 : This help
    --help                    : Advanced help
    --filter-help             : Filter language specification
    --version                 : Wfuzz version details
    -e &lt;type&gt;                 : List of available encoders/payloads/iterators/printers/scripts
    
    --recipe &lt;filename&gt;       : Reads options from a recipe. Repeat for various recipes.
    --dump-recipe &lt;filename&gt;  : Prints current options as a recipe
    --oF &lt;filename&gt;           : Saves fuzz results to a file. These can be consumed later using the wfuzz payload.
    
    -c                        : Output with colors
    -v                        : Verbose information.
    -f filename,printer       : Store results in the output file using the specified printer (raw printer if omitted).
    -o printer                : Show results using the specified printer.
    --interact                : (beta) If selected,all key presses are captured. This allows you to interact with the program.
    --dry-run                 : Print the results of applying the requests without actually making any HTTP request.
    --prev                    : Print the previous HTTP requests (only when using payloads generating fuzzresults)
    --efield &lt;expr&gt;           : Show the specified language expression together with the current payload
    --field &lt;expr&gt;            : Do not show the payload but only the specified language expression
    
    -p addr                   : Use Proxy in format ip:port:type. Repeat option for using various proxies.
                                Where type could be SOCKS4,SOCKS5 or HTTP if omitted.
    
    -t N                      : Specify the number of concurrent connections (10 default)
    -s N                      : Specify time delay between requests (0 default)
    -R depth                  : Recursive path discovery being depth the maximum recursion level.
    -L,--follow               : Follow HTTP redirections
    --ip host:port            : Specify an IP to connect to instead of the URL's host in the format ip:port
    -Z                        : Scan mode (Connection errors will be ignored).
    --req-delay N             : Sets the maximum time in seconds the request is allowed to take (CURLOPT_TIMEOUT). Default 90.
    --conn-delay N            : Sets the maximum time in seconds the connection phase to the server to take (CURLOPT_CONNECTTIMEOUT). Default 90.
    
    -A, --AA, --AAA           : Alias for --script=default,verbose,discovery -v -c
    --no-cache                : Disable plugins cache. Every request will be scanned.
    --script=                 : Equivalent to --script=default
    --script=&lt;plugins&gt;        : Runs script's scan. &lt;plugins&gt; is a comma separated list of plugin-files or plugin-categories
    --script-help=&lt;plugins&gt;   : Show help about scripts.
    --script-args n1=v1,...   : Provide arguments to scripts. ie. --script-args grep.regex="&lt;A href=\"(.*?)\"&gt;"
    
    -u url                    : Specify a URL for the request.
    -m iterator               : Specify an iterator for combining payloads (product by default)
    -z payload                : Specify a payload for each FUZZ keyword used in the form of name[,parameter][,encoder].
                                A list of encoders can be used, ie. md5-sha1. Encoders can be chained, ie. md5@sha1.
                                Encoders category can be used. ie. url
                                Use help as a payload to show payload plugin's details (you can filter using --slice)
    --zP &lt;params&gt;             : Arguments for the specified payload (it must be preceded by -z or -w).
    --zD &lt;default&gt;            : Default parameter for the specified payload (it must be preceded by -z or -w).
    --zE &lt;encoder&gt;            : Encoder for the specified payload (it must be preceded by -z or -w).
    --slice &lt;filter&gt;          : Filter payload's elements using the specified expression. It must be preceded by -z.
    -w wordlist               : Specify a wordlist file (alias for -z file,wordlist).
    -V alltype                : All parameters bruteforcing (allvars and allpost). No need for FUZZ keyword.
    -X method                 : Specify an HTTP method for the request, ie. HEAD or FUZZ
    
    -b cookie                 : Specify a cookie for the requests. Repeat option for various cookies.
    -d postdata               : Use post data (ex: "id=FUZZ&amp;catalogue=1")
    -H header                 : Use header (ex:"Cookie:id=1312321&amp;user=FUZZ"). Repeat option for various headers.
    --basic/ntlm/digest auth  : in format "user:pass" or "FUZZ:FUZZ" or "domain\FUZ2Z:FUZZ"
    
    --hc/hl/hw/hh N[,N]+      : Hide responses with the specified code/lines/words/chars (Use BBB for taking values from baseline)
    --sc/sl/sw/sh N[,N]+      : Show responses with the specified code/lines/words/chars (Use BBB for taking values from baseline)
    --ss/hs regex             : Show/hide responses with the specified regex within the content
    --filter &lt;filter&gt;         : Show/hide responses using the specified filter expression (Use BBB for taking values from baseline)
    --prefilter &lt;filter&gt;      : Filter items before fuzzing using the specified expression.
</code></pre></div></div>

<p>其中比较关注的参数如下</p>

<table>
  <thead>
    <tr>
      <th>参数</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>-e encoders/payloads/iterators/printers/scripts</td>
      <td>罗列可用模块：加密/载荷/迭代器/打印格式/脚本</td>
    </tr>
    <tr>
      <td>-w</td>
      <td>指定payload文件</td>
    </tr>
    <tr>
      <td>-z</td>
      <td>指定payload文件</td>
    </tr>
    <tr>
      <td>–hc/hl/hw/hh</td>
      <td>隐藏过滤项</td>
    </tr>
    <tr>
      <td>–sc/sl/sw/sh</td>
      <td>显示过滤项</td>
    </tr>
    <tr>
      <td>–hs/ss</td>
      <td>正则过滤</td>
    </tr>
    <tr>
      <td>-m</td>
      <td>迭代器</td>
    </tr>
    <tr>
      <td>–script</td>
      <td>使用脚本</td>
    </tr>
  </tbody>
</table>

<h1 id="字典">字典</h1>

<p>Kali自带此工具，字典在目录<code class="highlighter-rouge">/usr/share/wfuzz/wordlist/</code>下</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── Injections
│   ├── All_attack.txt
│   ├── SQL.txt
│   ├── Traversal.txt
│   ├── XML.txt
│   ├── XSS.txt
│   └── bad_chars.txt
├── general
│   ├── admin-panels.txt
│   ├── big.txt
│   ├── catala.txt
│   ├── common.txt
│   ├── euskera.txt
│   ├── extensions_common.txt
│   ├── http_methods.txt
│   ├── medium.txt
│   ├── megabeast.txt
│   ├── mutations_common.txt
│   ├── spanish.txt
│   └── test.txt
├── others
│   ├── common_pass.txt
│   └── names.txt
├── stress
│   ├── alphanum_case.txt
│   ├── alphanum_case_extra.txt
│   ├── char.txt
│   ├── doble_uri_hex.txt
│   ├── test_ext.txt
│   └── uri_hex.txt
├── vulns
│   ├── apache.txt
│   ├── cgis.txt
│   ├── coldfusion.txt
│   ├── dirTraversal-nix.txt
│   ├── dirTraversal-win.txt
│   ├── dirTraversal.txt
│   ├── domino.txt
│   ├── fatwire.txt
│   ├── fatwire_pagenames.txt
│   ├── frontpage.txt
│   ├── iis.txt
│   ├── iplanet.txt
│   ├── jrun.txt
│   ├── netware.txt
│   ├── oracle9i.txt
│   ├── sharepoint.txt
│   ├── sql_inj.txt
│   ├── sunas.txt
│   ├── tests.txt
│   ├── tomcat.txt
│   ├── vignette.txt
│   ├── weblogic.txt
│   └── websphere.txt
└── webservices
    ├── ws-dirs.txt
    └── ws-files.txt


</code></pre></div></div>

<p>当然只是举个🌰，用这里的字典基本不会得到什么，这里贴一个寻到的<a href="https://github.com/TheKingOfDuck/fuzzDicts">字典集合</a></p>

<h1 id="载荷payloads">载荷(payloads)</h1>

<p>哈哈哈就是payload，查看payload模块</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -e payloads

Available payloads:

  Name            | Summary                                                                           
------------------------------------------------------------------------------------------------------
  guitab          | This payload reads requests from a tab in the GUI                                 
  names           | Returns possible usernames by mixing the given words, separated by -, using know  
                  | n typical constructions.                                                          
  range           | Returns each number of the given range.                                           
  wfuzzp          | Returns fuzz results' URL from a previous stored wfuzz session.                   
  stdin           | Returns each item read from stdin.                                                
  hexrange        | Returns each hex number of the given hex range.                                   
  burplog         | Returns fuzz results from a Burp log.                                             
  hexrand         | Returns random hex numbers from the given range.                                  
  permutation     | Returns permutations of the given charset and length.                             
  file            | Returns each word from a file.                                                    
  burpstate       | Returns fuzz results from a Burp state.                                           
  dirwalk         | Returns filename's recursively from a local directory.                            
  iprange         | Returns list of IP addresses of a given IP range.                                 
  list            | Returns each element of the given word list separated by -.                       
  ipnet           | Returns list of IP addresses of a network.                                        
  autorize        | Returns fuzz results' from autorize.                                              
  buffer_overflow | Returns a string using the following pattern A * given number.
</code></pre></div></div>

<p><code class="highlighter-rouge">wfuzz -z help</code>可以获取关于payloads类模块的详细信息，也可以通过<code class="highlighter-rouge">--slice</code>参数来过滤返回信息的结果。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -z help --slice dirwalk

Name: dirwalk 0.1
Categories: default
Summary: Returns filename's recursively from a local directory.
Author: Xavi Mendez (@xmendez)
Description:
   Returns all the file paths found in the specified directory.
   Handy if you want to check a directory structure against a webserver,
   for example, because you have previously downloaded a specific version
   of what is supposed to be on-line.
Parameters:
   + dir: Directory path to walk and generate payload from.
</code></pre></div></div>

<p>使用的命令行基础长相如下</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w wordlist url/FUZZ
</code></pre></div></div>

<p>wordlist是字典，url是目标链接，FUZZ是占位符，替换payload，形如</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
</code></pre></div></div>

<p>占位符也可以多个，即多个payload，例如可以同时爆破用户名和密码
使用<code class="highlighter-rouge">-z</code> 或<code class="highlighter-rouge">-w</code>参数可以同时指定多个payloads，这时相应的占位符应设置为 <code class="highlighter-rouge">FUZZ, … , FUZnZ,</code>其中n代表了payload的序号。比如下面的例子，我们同时暴破文件，后缀和目录：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt -w /usr/share/wfuzz/wordlist/general/common.txt -w /usr/share/wfuzz/wordlist/general/extensions_common.txt http://172.16.70.163/FUZZ/FUZ2ZFUZ3Z
</code></pre></div></div>

<p>关于<code class="highlighter-rouge">-z</code> 或<code class="highlighter-rouge">-w</code>有啥区别：</p>

<p>1、多个payload时候没有区别</p>

<p>2、<code class="highlighter-rouge">-w wordlist</code>是指定一个文件，等效于<code class="highlighter-rouge">-z file,wordlist</code>和<code class="highlighter-rouge">-z file --zP fn=</code></p>

<p>以下等效：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -z file --zP fn=/usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -z file,/usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt http://172.16.70.163/FUZZ
</code></pre></div></div>

<h1 id="输出格式">输出格式</h1>

<p>我们在终端运行会在命令行得到结果</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt --hc 404,403 http://172.16.70.163/FUZZ

********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://testphp.vulnweb.com/FUZZ
Total requests: 949

===================================================================
ID           Response   Lines    Word     Chars       Payload                                     
===================================================================

000000035:   301        7 L      12 W     184 Ch      "admin"                                     
000000229:   301        7 L      12 W     184 Ch      "CVS"                                       
000000412:   301        7 L      12 W     184 Ch      "images"                                    
000000721:   301        7 L      12 W     184 Ch      "secured"                                   

Total time: 27.57318
Processed Requests: 949
Filtered Requests: 945
Requests/sec.: 34.41750
</code></pre></div></div>

<p>也可以将结果输出为我们指定的格式，查看支持的输出格式</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -e printers

Available printers:

  Name      | Summary                             
--------------------------------------------------
  csv       | CSV printer ftw                     
  html      | Prints results in html format       
  json      | Results in json format              
  magictree | Prints results in magictree format  
  raw       | Raw output format
</code></pre></div></div>

<p>指定输出结果为html</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -f /tmp/outfile,html -w /usr/share/wfuzz/wordlist/general/common.txt --hc 404,403 http://testphp.vulnweb.com/FUZZ
</code></pre></div></div>

<p><img src="../../assets/blog_pic/20200330_wfuzz0/output.png" alt="avatar" /></p>

<p>这个看着太黑可以把html里的背景色和字体颜色换一下</p>

<h1 id="过滤">过滤</h1>

<p>以上的命令行中<code class="highlighter-rouge">--hc</code>就是过滤器，过滤器有</p>

<table>
  <thead>
    <tr>
      <th>参数</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>–hc</td>
      <td>hide code将指定的Response状态码隐藏，如–hc 404，隐藏响应为404</td>
    </tr>
    <tr>
      <td>–hl</td>
      <td>hide lines将指定的Lines数隐藏</td>
    </tr>
    <tr>
      <td>–hw</td>
      <td>hide word将指定的Word数隐藏</td>
    </tr>
    <tr>
      <td>–hh</td>
      <td>hide chars将指定的Chars数隐藏</td>
    </tr>
    <tr>
      <td>–sc</td>
      <td>show code将指定的Response状态码显示，如–sc 200，只显示响应为200</td>
    </tr>
    <tr>
      <td>–sl</td>
      <td>show lines将指定的Lines数显示</td>
    </tr>
    <tr>
      <td>–sw</td>
      <td>show word将指定的Word数显示</td>
    </tr>
    <tr>
      <td>–sh</td>
      <td>show chars将指定的Chars数显示</td>
    </tr>
    <tr>
      <td>–hs</td>
      <td>正则隐藏</td>
    </tr>
    <tr>
      <td>–ss</td>
      <td>正则显示</td>
    </tr>
  </tbody>
</table>

<p><strong>Baseline(基准线)</strong></p>

<p>过滤器可以是某个HTTP响应的引用，例如</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt --hh BBB http://172.16.70.163/FUZZ{404there}
</code></pre></div></div>

<p>意为wfuzz第一个请求是请求<code class="highlighter-rouge">http://testphp.vulnweb.com/404there</code>这个网址，这个请求被标记为<code class="highlighter-rouge">BBB</code>，<code class="highlighter-rouge">BBB</code>也是不可以变的，这里用到了<code class="highlighter-rouge">--hh</code>，即以<code class="highlighter-rouge">BBB</code>这条请求返回的Chars为基准，隐藏其他与<code class="highlighter-rouge">BBB</code>相同的返回</p>

<p><strong>使用正则表达式过滤</strong></p>

<p><code class="highlighter-rouge">--hs</code>和<code class="highlighter-rouge">--ss</code>都可以使用正则表达式来对返回结果过滤，例如</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -w /usr/share/wfuzz/wordlist/general/common.txt --hs "Not Found" http://172.16.70.163/FUZZ
</code></pre></div></div>

<h1 id="递归测试">递归测试</h1>

<p><code class="highlighter-rouge">-R</code>可用于指定有效负载递归的深度。例如，如果要搜索现有目录，然后使用相同的有效负载再次在这些目录中进行模糊测试</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz -z list,"admin/-Login-CVS-cgi-bin"  -R 1 http://172.16.70.163/FUZZ

Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.

libraries.FileLoader: CRITICAL __load_py_from_file. Filename: /usr/lib/python3/dist-packages/wfuzz/plugins/payloads/shodanp.py Exception, msg=No module named 'shodan'
libraries.FileLoader: CRITICAL __load_py_from_file. Filename: /usr/lib/python3/dist-packages/wfuzz/plugins/payloads/bing.py Exception, msg=No module named 'shodan'
********************************************************
* Wfuzz 2.4 - The Web Fuzzer                           *
********************************************************

Target: http://172.16.70.163/FUZZ
Total requests: 5

===================================================================
ID           Response   Lines    Word     Chars       Payload                                            
===================================================================

000000002:   404        828 L    1806 W   36886 Ch    "Login"                                            
000000001:   200        45 L     150 W    2076 Ch     "admin/"                                           
 |_  Enqueued response for recursion (level=1)
000000003:   404        828 L    1806 W   36868 Ch    "CVS"                                              
000000004:   404        828 L    1806 W   36867 Ch    "cgi"                                              
000000006:   404        828 L    1815 W   36947 Ch    "admin/ - admin/"                                  
000000008:   404        828 L    1815 W   36923 Ch    "admin/ - CVS"                                     
000000009:   404        828 L    1815 W   36923 Ch    "admin/ - cgi"                                     
000000007:   200        79 L     220 W    3700 Ch     "admin/ - Login"                                   
000000005:   404        828 L    1806 W   36867 Ch    "bin"                                              
000000010:   404        828 L    1815 W   36922 Ch    "admin/ - bin"                                     

Total time: 1.141663
Processed Requests: 10
Filtered Requests: 0
Requests/sec.: 8.759149
</code></pre></div></div>

<h1 id="其他">其他</h1>

<p><strong>Openssl</strong></p>

<p>工具输出以这个开头，我在寻求解决办法时候，StackOverflow有要安装Pycurl，我看这工具还挺麻烦，然后看大家写Wfuzz的教程截图里都有这句话，就不管啦，等以后有影响再说</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz's documentation for more information.
</code></pre></div></div>

<p><strong>Recipes</strong></p>

<p>Wfuzz可以生成一个recipes用来保存命令，方便下次执行或者分享给别人。</p>

<p>生成一个recipes：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz --script=robots -z list,"robots.txt" --dumo-recipe outrecipe URL/FUZZ
</code></pre></div></div>

<p>使用某个recipes：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># wfuzz --recip outrecipe
</code></pre></div></div>


  <!-- Introducing the share module -->
  
  <div class="social-share-wrapper">
    <div class="social-share"></div>
  </div>


<!-- share.js -->
<script src="/assets/js/social-share.min.js"></script>
<script>
  socialShare('.social-share', {
    sites: [
      
        'weibo'
        ,
        
      
        'qq'
        ,
        
      
        'wechat'
        
      
    ],
    wechatQrcodeTitle: "Share to WeChat circle",
    wechatQrcodeHelper: 'I look forward to seeing this article in the circle of friends.'
  });
</script>

</div>

<!-- Bottom anchor -->
<a id="htmldown" name="htmldown"></a>
<!-- Introducing the comment module -->



    <section class="post-footer-item comment">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80ODI3Ny8yNDc3MQ=="></div>
    </section>

    <!-- 来必力City版安装代码 -->
    <script type="text/javascript">
       (function(d, s) {
           var j, e = d.getElementsByTagName(s)[0];

           if (typeof LivereTower === 'function') { return; }

           j = d.createElement(s);
           j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
           j.async = true;

           e.parentNode.insertBefore(j, e);
       })(document, 'script');
    </script>
    <noscript>Please activate JavaScript for normal use.</noscript>
    <!-- City version code installation has been completed -->





<!-- Introducing the goto module -->
<div class="bounceInRight animated go">
  <a title="Top switch page" class="gototop" href="#htmlup" target="_self">
    <div class="box" style="font-family:'ffad_matroregular';">
        Top
    </div>
  </a>
  <a title="At the bottomlivere评论哦" class="gotobottom" href="#htmldown" target="_self">
    <div class="box" style="font-family:'ffad_matroregular';">
        Foot
    </div>
  </a>
</div>

<!-- Introduce the module at the bottom of the page -->

<footer id="bottom">
  <script src="/assets/css/bootstrap.min.css"></script>

<!-- START BREADCRUMBS -->
<nav aria-label="breadcrumb">

  <ol class="breadcrumb">
  
  
  
  </ol>
</nav>

<!-- END BREADCRUMBS -->


<div id="breadcrumbs">

<a href="/">Home</a>

  
    / <a href="/blog/">Blog</a>
  

  
    / Wfuzz0
  

</div>
<style>
#breadcrumbs {margin-left: 0

      font-size: 10rem;
      padding: 0.75rem 1rem;
      margin-bottom: 1rem;
      list-style: none;
      background-color: # #fcfcfc;
      border-radius: 0.25rem;

      content: "";
      display: table;
      clear: both;

      float: left;

      display: inline-block;
      padding-right: 0.5rem;
      padding-left: 0.5rem;
      color: #818a91;
      content: "/";

      text-decoration: underline;

      text-decoration: none;

}
</style>

  <br>
  <span>sueisok ©
  
  
  2020
  <br>
  Powered by <a href="https://www.jekyll.com/">Jekyll</a> | <a href="https://github.com/JonyBepary/HardCandy-Jekyll-Mod">HardCandy-Jekyll Mod</a></span>
</footer>
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/media.css">
<link rel="stylesheet" href="/assets/css/animate.min.css">
<link rel="stylesheet" href="/assets/css/pygments/pygments_default.css">
<link rel="stylesheet" href="/assets/css/github-markdown.css">
<!-- SNS-icon -->
<script src="/assets/js/font_856428_y9z6nq7zf5.js"></script>
<!-- share.css -->
<link rel="stylesheet" href="/assets/css/share.min.css">
<!-- font -->
<link rel="stylesheet" href="/assets/css/font.css">
<!-- <link href="https://fonts.googleapis.com/css?family=Kaushan+Script|Pacifico|Ubuntu|Roboto+Mono|Source+Sans+Pro" rel="stylesheet"> -->



<!-- Quote the animation effect of wow.js -->
<script src="/assets/js/wow.js"></script>
<script>
    var wow = new WOW({
        boxClass: 'wow',
        animateClass: 'animated',
        // offset: 600,
        mobile: true,
        live: true
    });
    wow.init();
</script>
<!-- Page refreshes back to top -->
<script>
    window.onbeforeunload = function(){
        //The page automatically returns to the top after refreshing
        document.documentElement.scrollTop = 0;  //ie下
        document.body.scrollTop = 0;  //非ie
    }
</script>

<!-- preloder script -->
<!-- end -->
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
}
pdf_new_window()
external_new_window();
</script>

<style>
.videoWrapper {
    position: relative;
    padding-bottom: 56.333%;
    height: 0;
    background: black;
}
.videoWrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
      url: 'https://vimeo.com/api/oembed.json?url='+url,
      async: true,
      success: function(response) {
        if(response.video_id) {
          id = response.video_id;
          if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
          if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
          var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
          if(autoplay==1) theInnerHTML += '&autoplay=1';
          if(loop==1) theInnerHTML += '&loop=1';
          theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>';
          el.innerHTML = theInnerHTML;
        }
      }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>


<!-- preloder script -->
<script>
    var preloader = document.getElementById("loader");
    function loaderFunc(){
      preloader.style.display = 'none';
    };
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<!-- end -->

</body>
</html>
